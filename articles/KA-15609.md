---
title: 在冷备用日志中看到SegmentNotFoundException
description: 描述
solution: Experience Manager
product: Experience Manager
applies-to: Experience Manager
keywords: KCS，AEM,coldstandby，SegmentNotFoundException
resolution: Resolution
internal-notes: https://issues.apache.org/jira/browse/OAK-4965
bug: false
article-created-by: Vincent Frey
article-created-date: 5/12/2022 3:35:22 PM
article-published-by: Vincent Frey
article-published-date: 5/12/2022 3:37:03 PM
version-number: 2
article-number: KA-15609
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=e41a0422-09d2-ec11-a7b5-0022480a8683
exl-id: 776611e7-cdc0-4a1d-af89-10e493f2dd03
source-git-commit: e8f4ca2dd578944d4fe399074fab461de88ad247
workflow-type: tm+mt
source-wordcount: '216'
ht-degree: 1%

---

# 在冷备用日志中看到SegmentNotFoundException

## 描述


<b>问题：</b>
在创作冷待机中看到SegmentNotFoundException，如示例跟踪1。

<b>详细信息：</b>
备用实例上指向SegmentNotFoundException的日志只是误报，稍后会找到该区段。
如果此类日志仅在备用中显示，而在将实例启动为主实例时不显示，则可以忽略它们。 


1:\*DEBUG\* standby-run-46189 org.apache.jackrabbit.oak.segment.standby.client.StandbyClientSyncExecution找到从451216fa-7d43-4b3a-a262-03abfc3c3fb1到fbb91bad-9051-4ace-a77b-358ac6.apache.jackrabbit.segment.segmentOakException:未找到区段fbb91bad-9051-4ace-a77b-35fda8a358c6


## 分辨率


<b>要执行的步骤：</b>

- 如果“SegmentNotFoundException”的此类跟踪仅在冷备用日志中显示，而在将实例启动为主实例时不显示，则可以忽略它们。
- 继续监视备用实例，如1中所述。
- 此外，请注意，“org.apache.jackrabbit.oak.plugins.segment.SegmentNotFoundException”（相关文章位于2）和“org.apache.jackrabbit.oak.segment.SegmentNotFoundException”（相关文章位于3）是两个不同的例外。
- 备用日志中显示的“org.apache.jackrabbit.oak.segment.SegmentNotFoundException”不是需要从文章2中执行恢复步骤的日志。
- 只有在启动备用后看到“org.apache.jackrabbit.oak.plugins.segment.SegmentNotFoundException”时，我们才需要执行恢复流程2。


1:https://docs.adobe.com/content/help/en/experience-manager-65/deploying/deploying/tarmk-cold-standby.html#monitoring

2:https://helpx.adobe.com/experience-manager/kb/fix-inconsistencies-in-the-repository-when-segmentnotfound-issue.html

3:https://helpx.adobe.com/experience-manager/kb/fix-inconsistencies-by-restarting-AEM-when-segmentNotFound-issue-is-reported-in-AEM.html
