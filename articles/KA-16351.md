---
title: ACC — 外部连接数据加载问题
description: 描述
solution: Campaign
product: Campaign
applies-to: Campaign Classic,Campaign
keywords: KCS - ACC — 外部连接数据加载问题
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Karan Khanna
article-created-date: 5/10/2022 2:11:09 PM
article-published-by: Karan Khanna
article-published-date: 5/10/2022 2:11:34 PM
version-number: 2
article-number: KA-16351
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=8f266a08-6bd0-ec11-a7b5-00224809c556
exl-id: 08e00479-988e-47cb-93d0-c718d06acc52
source-git-commit: 14265e80c022cc632bdca8d17f84834e267c42d3
workflow-type: tm+mt
source-wordcount: '383'
ht-degree: 0%

---

# [ACC]  — 外部连接数据加载问题

## 描述

我的一位ACC客户遇到SQL外连接问题，想要检查这是预期行为还是ACC错误。

根据客户，提供了由扩展的nms:delivery数据模式 `gsk:deliveryAnalytics` 数据模型中。 此外，他们还向 `gsk:deliveryAnalyticsBrandMeta` 数据架构。

链接名称为： `metaBrandLink01`, `metaBrandLink02`, `metaBrandLink03`, `metaBrandLink04`. 所有都是外连接(`externalJoin="true"`)。

当操作员填写时，这些链接非常有效 `@brand01-@brand04` 属性。 但是，当基于投放模板构建投放时（例如，定期投放活动），就会出现问题。 在这种情况下，所有 `@brand01-@brand04` 尽管字段是在投放模板中填充的，但新执行的投放中的字段会变为空。 它不是输入表单问题，因为客户已经检查了该问题。 他们认为，在加载投放模板并将其数据插入新投放期间，这是SQL执行问题。 他们在SQL代码中观察到了它。 如果用户将连接类型更改为 `externalJoin="false"`，则他们可以看到代码包含正确的链接引用：

在选择部分中：

```
... D30.sBrand, D30.iDeliveryAnalyticsBrandMetaId, ...
```

在代码的FROM部分中：

```
FROM NmsDelivery D0 ...
JOIN GskDeliveryAnalyticsBrandMeta D30 ON (D30.sBrand = D0.sBrand01)
...
```

但如果他们使用 `externalJoin="true"`，则所有这些都不是由定期提交活动生成的SQL代码的一部分。 因此，新创建的投放中未填充品牌字段。

客户希望了解在从模板创建新投放时SQL代码不包含外部连接数据的原因。 是交流错误，还是预期交流行为。

## 分辨率

根据我们的专家，外部连接不应产生任何影响。

复制或重复执行时要执行的操作。 是要在表扩展中创建新记录，还是仅引用同一行？

如果是复制，您可以尝试使用属性进行播放 *`integrity`.*&#x200B;尝试使用&#x200B;*`owncopy`*

第二种情况是，它只应是外部键的副本，因为我们复制了任何属性。 检查属性 *`defOnDuplicate`* 外部密钥。

然后，尝试从UI创建投放或投放模板的副本，并检查是否复制了属性/外部键。 如果它有效，则循环投放也应该有效。
