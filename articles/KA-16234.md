---
title: 无法对DM投放输出文件名使用/查询
description: 描述
solution: Campaign
product: Campaign
applies-to: Campaign Classic,Campaign,Campaign Standard
keywords: KCS — 无法对DM投放输出文件名使用/查询
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Karan Khanna
article-created-date: 5/10/2022 3:35:40 PM
article-published-by: Karan Khanna
article-published-date: 5/10/2022 3:36:01 PM
version-number: 2
article-number: KA-16234
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=43c42ad4-76d0-ec11-a7b5-00224809c556
exl-id: e45ff2b0-8e36-4fa2-8270-6a6ddaa0b7aa
source-git-commit: e8f4ca2dd578944d4fe399074fab461de88ad247
workflow-type: tm+mt
source-wordcount: '319'
ht-degree: 1%

---

# 无法对DM投放输出文件名使用/查询

## 描述


我的一位客户报告了以下问题，因为他们有一些不同的业务需求。

从mdata字段中，我们要提取outputFile name — 有关位置，请参阅attachment(mData_outputFile.png)，它存储在outputFile=&quot; &quot;中。 我们希望了解转换此xml数据类型字段的最佳方式，以便在营销活动工作流中作为扩充字段进行传递，以便我们可以将附加到升级历史记录表中，以存储所有输出文件名。

我最初试图与我的同事联系，但遗憾的是，他们对上述问题没有太多信息。 因为我们知道，mdata是XML字段，而不是要查询的DB字段。 但是，除此之外，还有什么方法可以实现这种情况？


## 分辨率


使用文件提取活动以XML格式提取投放数据。



这将确保也提取数据。



然后，您可以使用加载文件活动或JS代码活动来解析该文件并获取数据。



或者



使用JS代码活动和queryDef获取投放的数据，然后解析xml。



将数据存储在实例变量中，然后在过渡中加载





客户有一个后续查询，查询内容如下：

“我们尝试对mdata使用queryDef方法，我们能够编写。 对于解析方法，建议使用哪种方法？”



<b>答案 — </b>

您的请求将类似于



*queryDef operation=&quot;select&quot; schema=&quot;nms:delivery&quot;*

*选择*

*节点expr=&quot;@id&quot;/*

*node expr=&quot;output/@fileName&quot; label=&quot;output file&quot;/*

*/select*

*sysFilter*

*条件expr=&quot;@isModel = 0&quot;/*

*/sysFilter*

*orderBy*

*node expr=&quot;@lastModified&quot; sortDesc=&quot;true&quot;/*

*/orderBy*

*/queryDef*



它会回来

*delivery-collection*

*delivery id=&quot;11878415&quot;*

*output filename=&quot;abc.txt&quot;*

*/output*

*/delivery*

*/delivery-collection*
