---
title: 无法对DM投放输出文件名使用/查询
description: 描述
solution: Campaign
product: Campaign
applies-to: Campaign Classic,Campaign,Campaign Standard
keywords: KCS — 无法对DM投放输出文件名使用/查询
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Karan Khanna
article-created-date: 5/10/2022 3:35:40 PM
article-published-by: Karan Khanna
article-published-date: 5/10/2022 3:36:01 PM
version-number: 2
article-number: KA-16234
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=43c42ad4-76d0-ec11-a7b5-00224809c556
exl-id: e45ff2b0-8e36-4fa2-8270-6a6ddaa0b7aa
source-git-commit: 6a23faae10364181be7dedc2f408f2ad8d8be3c9
workflow-type: tm+mt
source-wordcount: '273'
ht-degree: 1%

---

# 无法对DM投放输出文件名使用/查询

## 描述


我的一位客户报告了以下问题，因为他们有一些不同的业务需求。

从 `mdata` 字段中，我们要提取outputFile name — 有关存储在 `outputFile=" "`. 我们希望了解转换此xml数据类型字段的最佳方式，以便在 [!DNL Campaign] 工作流，以便我们可以将提升历史记录表附加到其中，以存储所有输出文件名。

我最初试图与我的同事联系，但遗憾的是，他们对上述问题没有太多信息。 从那以后，我们知道 `mdata` 是XML字段，而不是要查询的数据库字段。 但是，除此之外，还有什么方法可以实现这种情况？


## 分辨率


使用 [!UICONTROL 文件提取] 活动，以提取XML格式的投放数据。



这将确保也提取数据。



然后，您可以使用 [!UICONTROL 加载文件] 活动或 [!UICONTROL JS代码] 活动来解析该文件并获取数据。



或者



使用 [!UICONTROL JS代码] 活动和 `queryDef` 以获取投放的mdata，然后解析xml。



将数据存储在实例变量中，然后在过渡中加载





客户有一个后续查询，查询内容如下：

“我们试图使用 `queryDef` 我们能写的。 对于解析方法，建议使用哪种方法？”



<b>答案 — </b>

您的请求将类似于


```
*queryDef operation="select" schema="nms:delivery"*

*select*

*node expr="@id"/*

*node expr="output/@fileName" label="Output file"/*

*/select*

*sysFilter*

*condition expr="@isModel = 0"/*

*/sysFilter*

*orderBy*

*node expr="@lastModified" sortDesc="true"/*

*/orderBy*

*/queryDef*
```


它会回来

```
*delivery-collection*

*delivery id="11878415"*

*output filename=”abc.txt”*

*/output*

*/delivery*

*/delivery-collection*
```
