---
title: 新部署正在删除所有样式
description: 描述
solution: Experience Manager
product: Experience Manager
applies-to: Experience Manager
keywords: KCS
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Ruxandra Nitu
article-created-date: 12/19/2022 1:22:48 PM
article-published-by: Ruxandra Nitu
article-published-date: 12/19/2022 2:50:10 PM
version-number: 3
article-number: KA-21121
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=2d839138-a07f-ed11-81ac-6045bd006295
exl-id: 1a450249-24c0-437d-9878-d7eff576286a
source-git-commit: 4c5e88ab146d724c71870d268b97f51aaf255a13
workflow-type: ht
source-wordcount: '267'
ht-degree: 100%

---

# 新部署正在删除所有样式

## 描述 {#description}


在一个环境中部署管道后，客户注意到模板中的自定义样式以及使用该模板创建的页面中的样式已被删除。



![](assets/___2e839138-a07f-ed11-81ac-6045bd006295___.png)

图 1. 具有当前样式的模板



![](assets/___32839138-a07f-ed11-81ac-6045bd006295___.png)

图 2. 没有样式的模板


## 解决方案 {#resolution}


审查客户在其环境中部署的项目时，发现负责更改内容的分支下的 filter.xml 文件（在本例中为 1）包含过滤器 2。
部署后修改的模板位于 &quot;/conf/path/settings/wcm/templates/modified template&quot;，但没有过滤模式，并且默认为“替换”。
这意味着无论何时部署管道，都将使用代码中的路径。
这必须通过将过滤器模式设置为“合并”来解决，就像其他路径 3 一样。

1 /aem-cust-project.all-0.0.1-SNAPSHOT/jcr_root/apps/cust-packages/content/install/aem-cust-project.ui.content-0.0.1-SNAPSHOT/META-INF/vault/filter.xml

2 workspaceFilter version=&quot;1.0&quot;
filter root=&quot;/conf/path/settings/wcm/templates/modified_template&quot;/
filter root=&quot;/conf/path&quot; mode= &quot;merge&quot;/
filter root=&quot;/conf/path2&quot; mode=&quot;merge&quot;/
filter root=&quot;/content/path2&quot; mode=&quot;merge&quot;/
filter root=&quot;/content/dam/path2/asset.jpg&quot; mode=&quot;merge&quot;/
filter root=&quot;/content/experience-fragments/path2&quot; mode=&quot;merge &quot;/
/workspaceFilter

3 workspaceFilter version=&quot;1.0&quot;
filter root=&quot;/conf/path/settings/wcm/templates/modified_template&quot; <b>mode=&quot;merge&quot;</b>/
filter root=&quot;/conf/path&quot; mode=&quot;merge&quot;/
filter root=&quot;/conf/path2&quot; mode=&quot;merge&quot;/
filter root=&quot;/content/path2&quot; mode=&quot;merge&quot;/
filter root=&quot;/content/dam/path2/asset.jpg&quot; mode=&quot;merge&quot;/
filter root=&quot;/content/experience-fragments/path2&quot; mode=&quot;merge&quot;/
/workspaceFilter
