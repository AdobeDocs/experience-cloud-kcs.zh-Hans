---
title: “如何在Adobe动态标签管理器中设置Marketing CloudID服务帮助程序功能”
description: 描述
solution: Experience Cloud
product: Experience Cloud
applies-to: "Experience Cloud"
keywords: "KCS、DTM、附加访客ID"
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Victoria Barnato
article-created-date: "3/6/2023 9:33:15 PM"
article-published-by: Victoria Barnato
article-published-date: "3/6/2023 9:37:22 PM"
version-number: 6
article-number: KA-17524
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=e527467e-66bc-ed11-83ff-6045bd006a22"
source-git-commit: 87f96810e99fb44e662f0c58beed6700ecd3ae20
workflow-type: tm+mt
source-wordcount: '254'
ht-degree: 8%

---

# 如何在Adobe动态标签管理器中设置Marketing CloudID服务帮助程序函数

## 描述 {#description}

<br>问题<br>
本文将介绍如何实施Adobe Marketing Cloud ID服务 [附加访客ID函数](https://marketing.adobe.com/resources/help/zh_CN/mcvid/mcvid-appendvisitorid.html) Adobe动态Tag Management (DTM)中的
<br>环境<br>
- 在中加载Marketing CloudID服务VisitorAPI.js 1.8.0或更高版本 [DTMMarketing CloudID服务](https://experienceleague.adobe.com/docs/id-service/using/id-service-api/methods/appendvisitorid.html?lang=zh-Hans) 在原始域和目标域中
- 应在阻止Cookie以验证功能的浏览器情况下进行测试



## 解决方法 {#resolution}

要解决的步骤<br>设置 — 域A<br>
在域A上使用自定义第三方Javascript在页面加载顶部顺序规则中设置目标域（域B）。 *例如：*![&#x200B;屏幕快照2016-09-20 16.02.25](https://helpx.adobe.com/content/dam/help/en/dtm/kb/how-to-set-marketing-cloud-id-service-helper-function-in-adobe-d/jcr%3acontent/main-pars/image/Screenshot%202016-09-20%2016.02.25.png "屏幕快照2016-09-20 16.02.25")
![屏幕快照2016-09-20 16.04.57](https://helpx.adobe.com/content/dam/help/en/dtm/kb/how-to-set-marketing-cloud-id-service-helper-function-in-adobe-d/jcr%3acontent/main-pars/image_1393293752/Screenshot%202016-09-20%2016.04.57.png "屏幕快照2016-09-20 16.04.57")

| 1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17 | `//Code on Domain A``var` `domainB =``"www.domainb.com"``;`<br> <br>`//Call the ID service``var` `visitor = Visitor.getInstance (``"Insert Marketing Cloud organization ID here"``,{``   ``trackingServer:``"Insert tracking server here here"``, ``//Same as s.trackingServer``   ``trackingServerSecure:``"Insert secure tracking server here"``, ``//Same as s.trackingServerSecure``   ``...``   ``//Other getInstance variables here``   ``...``});`<br> <br>`//Add the helper function``var` `domainBWithVisitorIDs = visitor.appendVisitorIDsTo(domainB);`<br> <br>`//Redirect to Domain B``window.location = _satellite.getVisitorId().appendVisitorIDsTo(domainB)` |
| --- | --- |


注释：

要重定向到更明确的路径，域设置需要反映该意图。 如果重定向需要更动态的构造，则可以将自定义代码添加到数据元素或直接调用规则。 例如： var domainB = &quot;http://www.domainb.com/products/&quot;
<br>验证 — 域B<br>
从域A导航到域B。通过在开发人员控制台中调用以下内容，验证域B上的MID是否与域a上的MID匹配：

_satellite.getVisitorId()。getMarketingCloudVisitorID()
