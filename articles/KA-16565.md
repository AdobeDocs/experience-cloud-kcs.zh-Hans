---
title: "如何在AEM 6.3中重置管理员密码"
description: 描述
solution: Experience Manager
product: Experience Manager
applies-to: "Experience Manager"
keywords: "KCS"
resolution: Resolution
internal-notes: "Helpx Link: https://helpx.adobe.com/experience-manager/kb/How-to-reset-the-admin-password-in-AEM-6-3.html"
bug: false
article-created-by: Emily Geary
article-created-date: "11/24/2020 10:31:59 PM"
article-published-by: Jake Mayorga
article-published-date: "2/19/2021 11:26:08 PM"
version-number: 2
article-number: KA-16565
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=278794d8-a42e-eb11-a813-000d3a593c3f"
exl-id: c7b58011-c424-47a9-8e3b-2ea539c8e512
source-git-commit: e8f4ca2dd578944d4fe399074fab461de88ad247
workflow-type: tm+mt
source-wordcount: '197'
ht-degree: 1%

---

# 如何在AEM 6.3中重置管理员密码

## 描述


忘记管理员密码，需要重置。
<br><br>环境<br><br>
AEM 6.4,6.5


## 分辨率

步骤<br><br>
1. 在服务器命令提示符下输入以下命令(将路径替换为AEM segmentstore的路径)<b>.AEM应在运行以下步骤之前停止：</b>

`java -jar oak-run-*.jar console path/to/crx-quickstart/repository/segmentstore --read-write ":load admin-reset.groovy"`
1. 输入以下内容：



| `:load admin-reset63.groovy` |
| --- |


1. 按Enter键，脚本将自动查找管理员密码并将其更改为管理员。
它表示：


   | `Found admin node : SegmentNodeBuilder{path=/home/users/some/path}` |
   | --- |
2. 启动AEM

<br><br>其他信息<br><br>
<b>所需项目：</b>

- [oak-run jar](http://repo1.maven.org/maven2/org/apache/jackrabbit/oak-run/)
- admin-reset.groovy脚本（下载/删除.txt或从内容创建）


下载

[获取文件](https://helpx.adobe.com/content/dam/help/en/experience-manager/kb/How-to-reset-the-admin-password-in-AEM-6-3/_jcr_content/main-pars/download_section/download-1/admin-reset_groovy.txt "admin-reset.groovy.txt")

admin-reset.groovy


| <ol>   <li>导入</code> org.apache.jackrabbit.oak.spi.security.user.util.passwordUtil</code></li>   <li>导入</code> org.apache.jackrabbit.oak.spi.commit.CommitInfo</code></li>   <li>导入</code> org.apache.jackrabbit.oak.spi.commit.emptyHook</code></li>   <li> </li>   <li>类</code> 全局{</code></li>   <li>    </code>静态</code> adminNode = </code>null</code>;</code></li>   <li>}</code></li>   <li> </li>   <li>void</code> findAdminNode(ub){</code></li>   <li>    </code>if</code> (ub.hasProperty(</code>&quot;rep:principalName&quot;</code>){</code></li>   <li>        </code>if</code> (</code>&quot;rep:principalName = admin&quot;</code>.equals(ub.getProperty()</code>&quot;rep:principalName&quot;</code>)。toString()){</code></li>   <li>            </code>Global.adminNode = ub;</code></li>   <li>        </code>}</code></li>   <li>    </code>}</code></li>   <li>    </code>ub.childNodeNames.each { it -</code></li>   <li>        </code>if</code> (Global.adminNode == </code>null</code>){</code></li>   <li>            </code>findAdminNode(ub.getChildNode(it));</code></li>   <li>        </code>}</code></li>   <li>    </code>}</code></li>   <li>}</code></li>   <li> </li>   <li>ub = session.store.root.builder();</code></li>   <li>findAdminNode(ub.getChildNode(</code>&quot;home&quot;</code>)。getChildNode(</code>&quot;users&quot;</code>));</code></li>   <li> </li>   <li>if</code> (Global.adminNode){</code></li>   <li>    </code>println(</code>“找到管理节点：&quot;</code> + Global.adminNode.toString());</code></li>   <li>    </code>Global.adminNode.setProperty(</code>&quot;rep:password&quot;</code>, PasswordUtil.buildPasswordHash(</code>&quot;admin&quot;</code>));</code></li>   <li>    </code>session.store.merge(ub， EmptyHook.INSTANCE， CommitInfo.EMPTY);</code></li>   <li>} </code>else</code> {</code></li>   <li>    </code>println(</code>&quot;找不到管理节点。&quot;</code>);</code></li>   <li>}</code></li>  </ol> |
| --- |
