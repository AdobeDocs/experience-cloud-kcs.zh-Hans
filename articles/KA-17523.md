---
title: “Marketing CloudID服务如何跨域维护一致的MCID？”
description: 描述
solution: Experience Cloud
product: Experience Cloud
applies-to: "Experience Cloud"
keywords: "KCS， MCID，跨域， Cookie， amcv， demdex， uuid"
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Nayanika Chakravarty
article-created-date: "5/9/2023 6:52:26 PM"
article-published-by: Nayanika Chakravarty
article-published-date: "5/9/2023 7:30:09 PM"
version-number: 3
article-number: KA-17523
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=7a18a2a2-9aee-ed11-8849-6045bd006704"
source-git-commit: ab880a04bcb7fb93e6336be53e039133458d8c00
workflow-type: tm+mt
source-wordcount: '359'
ht-degree: 2%

---

# Marketing CloudID服务如何跨域维护一致的MCID?

## 描述 {#description}


<b>环境</b>

Adobe Experience Cloud

<b>问题/症状</b>

Marketing CloudID服务如何在接受第三方Cookie的浏览器中跨域维护一致的Marketing CloudID?


## 解决方法 {#resolution}

解决步骤<br>
1. 用户首次访问My Company Inc.拥有的网站。
2. 的 `VisitorAPI.js` 文件会加载并检查，以查看当前域(SiteA.com)上是否存在AMCV Cookie。 当前域上不存在AMCV Cookie，因此 `VisitorAPI.js` 检查是否 `demdex.net` cookie存在。 但事实并非如此。
3. 由于Cookie不存在，因此会向 `dpm.demdex.net` 具有您的Marketing Cloud组织ID（也称为IMS组织ID）。 在这种情况下，1234@AdobeOrg将随请求一起发送。
4. 的 `demdex.net` 服务器接收请求并生成UUID。 接下来，它使用UUID和IMS组织ID(1234)来生成MID值。
5. 服务器使用MID和UUID来响应来自页面的请求。
6. 的 `VisitorAPI.js` 库会将MID写入浏览器中的AMCV Cookie。 在响应过程中，Demdex服务器还会将UUID写入Cookie。 AMCV Cookie在当前域(SiteA.com)上写入，Demdex Cookie在 `demdex.net` 域。
7. 执行页面代码并触发Adobe解决方案信标。
8. 用户浏览到SiteB.com。
9. `VisitorAPI.js` 检查当前域(SiteB.com)上是否存在AMCV Cookie。 此域上不存在AMCV Cookie，因此 `VisitorAPI.js` 检查是否 `demdex.net` cookie存在。 它确实存在，因此会检索值。
10. 网络请求被发送到 `dpm.demdex.net` 和UUID值(ABCDE)。
11. demdex服务器使用请求中传递的UUID(ABCDE)和IMS组织ID(1234)来生成MID值。
12. demdex服务器使用MID值(ABC1234)响应请求。
13. 的 `VisitorAPI.js` 库会将MID(ABC1234)写入浏览器中的AMCV Cookie。 AMCV Cookie在当前域(SiteB.com)上写入。
14. 执行页面代码并触发Adobe解决方案信标。

