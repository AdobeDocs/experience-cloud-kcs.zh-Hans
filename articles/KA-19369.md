---
title: “ACC：如何进行PushEvent和PushEvents SOAP调用”
description: 描述
solution: Campaign,Campaign Classic v7,Campaign v8
product: Campaign,Campaign Classic v7,Campaign v8
applies-to: "Campaign Classic,Campaign,Campaign Classic v7,Campaign v8"
keywords: “KCS、PushEvent、如何、makePushEvent、makePushEvents、SOAP调用、ACC、Adobe Campaign、Adobe Campaign Classic”
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Jim Menn
article-created-date: "5/26/2023 7:18:03 AM"
article-published-by: Jim Menn
article-published-date: "5/26/2023 7:22:49 AM"
version-number: 3
article-number: KA-19369
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=99a8ab72-95fb-ed11-8849-6045bd006e5a"
source-git-commit: b09e4ce82f93de5cdcadd7f96f9136fdc0720629
workflow-type: tm+mt
source-wordcount: '524'
ht-degree: 2%

---

# ACC：如何进行PushEvent和PushEvents SOAP调用

## 描述 {#description}

<b>环境</b>
- Campaign Classic
- Campaign
- Campaign Classic v7
- Campaign v8



<b>问题/症状 </b>
<b>先决条件：</b>

- 下载用于触发调用的SOAP UI

- 正在上传WSDL (`<` 服务器url`>` /nl/jsp/schemawsdl.jsp？schema=nms：rtEvent)到SOAP UI

- 测试计算机的IP必须获得授权，否则您将收到错误“访问被拒绝”。

- 要输入的有效身份验证凭据（通常为mc用户） *`<`urn：sessiontoken`>` 登录/密码`<` /urn：sessiontoken`>`*




## 解决方法 {#resolution}


<u>推送事件：</u>

此调用在触发 *独特* RT实例上的事件。

模板(*&quot;test&quot;* 在示例中)需要在RT上从控制实例成功发布。

In `<` *urn：domEvent*`>` ，类型为的事件  `<` *rtEvent*`>`  必须使用定义 *type*&#x200B;模板类型和 *电子邮件*&#x200B;是收件人的电子邮件地址。

In `<` ctx`>` ，必须定义模板上使用的所有属性。 在此示例中，模板包含以下内容：

``<`` `P` ``>` Your email is: `<` %= rtEvent.email %`>` `<`` `P` ``>`  -`>`  is using the attribute email directly as email in define within rtEvent`

``<`` `P` ``>` Your first name: `<` %= rtEvent.ctx.firstName %`>` `<`` `P` ``>`  -`>`  is using ctx.firstname as ctx is an inner element of rtEvent`

``<`` `P` ``>` Your last name: `<` %= rtEvent.ctx.lastName %`>` `<`` `P`>`  -`>`  is using ctx.lastname as ctx is an inner element of rtEvent`

调用示例：

*`<`soapenv：Envelope xmlns：soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns：urn=&quot;urn:nms:rtEvent”`>`
<br>   `<` soapenv：Header/`>`
<br>   `<` soapenv：Body`>`
<br>      `<` urn：PushEvent`>`
<br>         `<` urn：sessiontoken`>` 登录/密码`<` /urn：sessiontoken`>`
<br>         `<` urn：domEvent`>`
<br>            `<` rtEvent type=&quot;test&quot; email=&quot;xxx@gmail.com&quot;`>`  
<br>                `<` ctx`>`
<br>                    `<` 名字`>` ABC`<` /firstName`>`
<br>                   `<` 姓氏`>` DEF`<` /lastName`>`
<br>                `<` /ctx`>`
<br>            `<` /rtEvent`>`
<br>         `<` /urn：domEvent`>`
<br>      `<` /urn：PushEvent`>`
<br>   `<` /soapenv：Body`>`
<br>`<` /soapenv：Envelope`>`*

成功响应：

*`<`SOAP-ENV：Envelope xmlns：xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns：xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns：ns=&quot;urn:nms:rtEvent&quot; xmlns：SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;`>`
<br>   `<` SOAP-ENV：Body`>`
<br>      `<` PushEventResponse SOAP-ENV：encodingStyle=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot; xmlns=&quot;urn:nms:rtEvent”`>`
<br>         `<` plId xsi：type=&quot;xsd：long&quot;`>` 0000000000`<` /plId`>`
<br>      `<` /PushEventResponse`>`
<br>   `<` /SOAP-ENV：Body`>`
<br>`<` /SOAP-ENV：信封`>`*

接收PIID表示已成功接收事件，并且正在处理该事件。



<u>推送事件：</u>

此调用在触发时使用 *多个* RT实例上的事件。

所有要求与第一次调用相同。

多个 `<` rtEvent`>`  必须在中定义 *`<`urn：domEventCollection`>` .*



调用示例：

*`<`soapenv：Envelope xmlns：soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns：urn=&quot;urn:nms:rtEvent”`>`
<br>   `<` soapenv：Header/`>`
<br>   `<` soapenv：Body`>`
<br>      `<` urn：PushEvents`>`
<br>         `<` urn：sessiontoken`>` ？`<` /urn：sessiontoken`>`
<br>         `<` urn：domEventCollection`>`
<br>            <b>`<` ！ — 此时可输入ANY元素。 需要1个以上的元素 — `>` </b>
<br>         `<` /urn：domEventCollection`>`
<br>      `<` /urn：PushEvents`>`
<br>   `<` /soapenv：Body`>`
<br>`<` /soapenv：Envelope`>`*

<b>注意：</b> 如果此调用中只定义了1个元素，则RT实例将收到该元素，响应为200 OK，但 <b>不会触发、处理任何事件，也不会在事件中显示</b> 并且不会有任何内容显示在博客中。

您会收到此类响应，这意味着它已经到达RT，但什么也不会发生：

*`<`SOAP-ENV：Envelope xmlns：xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns：xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns：ns=&quot;urn:nms:rtEvent&quot; xmlns：SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;`>`
<br>   `<` SOAP-ENV：Body`>`
<br>      `<` PushEventsResponse SOAP-ENV：encodingStyle=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot; xmlns=&quot;urn:nms:rtEvent”`>`
<br>         `<` pdomIds xsi：type=&quot;ns：Element&quot; SOAP-ENV：encodingStyle=&quot;http://xml.apache.org/xml-soap/literalxml&quot;`>`
<br>            `<` rtEvent email=&quot;xxx@gmail.com&quot; type=&quot;test&quot;/`>`
<br>         `<` /pdomIds`>`
<br>      `<` /PushEventsResponse`>`
<br>   `<` /SOAP-ENV：Body`>`
<br>`<` /SOAP-ENV：信封`>`*

未触发事件的原因是 <b>推送事件</b> 仅适用于多个事件。 如果调用时只有一个事件，则 <b>推送事件</b> 调用是必需的。
