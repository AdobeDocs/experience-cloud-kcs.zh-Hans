---
title: SPA的VEC问题
description: 描述
solution: Target
product: Target
applies-to: Target
keywords: KCS
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Karan Dhawan
article-created-date: 4/5/2022 9:50:43 AM
article-published-by: Karan Dhawan
article-published-date: 4/5/2022 9:55:48 AM
version-number: 2
article-number: KA-18998
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=825963d6-c5b4-ec11-983f-000d3a5d0d73
exl-id: a5d08107-3de2-445c-b047-f9661dbd3aef
source-git-commit: e8f4ca2dd578944d4fe399074fab461de88ad247
workflow-type: tm+mt
source-wordcount: '467'
ht-degree: 13%

---

# SPA的VEC问题

## 描述

<br>SPA的Adobe Target VEC利用了一个名为“视图”的新概念：视觉元素的逻辑组合，这些元素共同构成了SPA体验。 鉴于在SPA中，我们在页面加载时不依赖检索选件，因此存在一些限制和先决条件：
<br> <br><br>
- SPA VEC不支持自动定位、Automated Personalization或Recommendations活动。
- at.js 2.0+和“adobe.target.triggerView()”函数必须在应用程序中实施，然后才能使用SPA VEC。
- 初始页面加载的操作顺序：加载VisitorAPI JS加载at.js 2.x执行Target请求（预取调用）调用triggerView()。


<br>SPA的Adobe Target VEC利用了一个名为“视图”的新概念：视觉元素的逻辑组合，这些元素共同构成了SPA体验。 鉴于在SPA中，我们在页面加载时不依赖检索选件，因此存在一些限制和先决条件：<br>

## 分辨率


在调试与SPA相关的VEC问题时，请确保选中以下内容： 
1. 确保为每个视图触发adobe.target.triggerView()函数。
2. 确保页面不删除参数“mboxEdit=1&amp;mboxDisable=1”。 如所述：

在可视化体验编辑器中打开网站时，Target会添加两个参数（mboxEdit=1和mboxDisable=1）。

如果您的网站（特别是单页应用程序）裁切掉我们的参数，或者在从一个页面导航到另一个页面（不重新加载页面）时将它们实际删除，则 Target 功能会损坏并且 Target 库不会加载。要避免出现此问题，请确保不要裁切或删除这两个参数。

3. 查找可能在控制台日志中显示的任何错误消息。 例如，i-frame阻止视图加载时可能出现问题。

一些常见的错误消息可能是： 

未捕获的DOMException:阻止源为“https://view.ceros.com”的帧访问跨源帧。
https://view.ceros.com/hitachi-vantara/hitachi-vantara-x-t-systems?heightOverride=4696&amp;mobileHeightOverride=9696:610:38

4. 另外，还可在网络日志中检查Target视图通知调用（状态为204的Target通知调用）。 如果呼叫被阻止，则检查状态。

5. 对于VEC中不再显示修改，但却在修改面板中显示的少数问题，我们无法从面板删除修改：请确保视图名称中没有尾随空格。 在设置视图名称时需要确保的其他详细信息包括： 

没有尾随空格。
不能为空。所有页面的视图名称应该都是唯一的。视图名称不应以“/”开头或结尾。 这是因为客户通常会从 URL 路径中提取视图名称。对于我们而言，“home”和“/home”是不同的。
不应使用{page:true}选项。
