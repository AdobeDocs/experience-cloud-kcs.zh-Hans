---
title: “AEM MSM问题疑难解答”
description: 描述
solution: Experience Manager
product: Experience Manager
applies-to: "Experience Manager"
keywords: “KCS”
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Nayanika Chakravarty
article-created-date: "5/29/2023 7:47:49 PM"
article-published-by: Nayanika Chakravarty
article-published-date: "5/29/2023 7:49:57 PM"
version-number: 4
article-number: KA-17478
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=765f9bae-59fe-ed11-8f6e-6045bd006b4b"
source-git-commit: 3e61f833d69080afea69eb26ab2151b708968fe0
workflow-type: tm+mt
source-wordcount: '697'
ht-degree: 5%

---

# AEM MSM问题疑难解答

## 描述 {#description}

<b>环境</b>
Experience Manager


<b>问题/症状</b>
基本验证



- 查看 [MSM常见问题解答页面](https://experienceleague.adobe.com/docs/experience-manager-65/administering/introduction/troubleshoot-msm.html?lang=en#faq) 以便查看您的问题或疑问是否尚未在该处解决
- 查看 [MSM最佳实践文档页面](https://experienceleague.adobe.com/docs/experience-manager-65/administering/introduction/msm-best-practices.html?lang=en)
- 安装最新Service Pack后，请确保该问题可重现



## 解决方法 {#resolution}

查找有关您的Blueprint和Livecopy状态的高级信息<br> 
多站点管理器(MSM)在资源URL上注册多个可使用选择器请求的servlet。

它们由UI使用，也可以直接请求以直接查看页面的其他高级计算MSM状态：

<b>1) http://host:port/content/path/to/bluprint/page.blueprint.json?&amp;maxSize=500&amp;advancedStatus=true&amp;returnRelationships=true&amp;msm%3Atrigger=ROLLOUT</b>

在Blueprint页面上使用可检索链接到它的所有活动副本的列表，并带有高级LC状态。



<b>2) http://host:port/content/path/to/livecopy/page.msm.json</b>

在Livecopy页面上使用，可获取有关其与Blueprint页面的连接的高级信息。
如果页面不是Livecopy，则不会返回任何内容。



这些servlet通过 <b>com.day.cq.wcm.msm </b>值得检查的日志程序。
<br> 检查存储库中特定于MSM的信息<br> 
上述servlet返回了基于MSM特定节点和Mixin的计算信息。

信息通过以下方式存储。

- <b>`cq:LiveSync` </b>mixin<b> </b>type

这是在jcr：content节点上设置的，并定义 <b>根Livecopy页面。</b>
这些页面将具有 <b>cq：LiveSyncConfig</b> 类型的子节点 <b>cq：LiveCopy </b>包含以下属性的LiveCopy的基本和强制性信息：

<b>cq：主控： </b>指向LiveCopy的Blueprint页面
<b>cq：rolloutConfigs</b> ：表示在Livecopy上应用的活动转出配置
<b>cq：isDeep ： </b>如果此根Livecopy页面的子页面包含在Livecopy中，则为true。



- <b>cq：LiveRelationship</b> mixin类型

任何livecopy页面的jcr：content节点上均具有此类mixin类型。
如果没有，则页面在某个时间点已被分离，或在Livecopy操作（创建或转出）之外通过创作界面手动创建



- <b>cq：LiveSyncCanceled</b> mixin类型

添加在已暂停的Livecopy页面的jcr：content节点上。

如果暂停对子页面也有效：将在同一节点上添加cq：isCancelledForChildren=true属性。



当然，出现在那里的信息应该反映在UI中， *但是，在您可以询问UI或MSM行为的异常情况下，超级用户可以直接验证这些节点以了解其MSM页面的状态。*

了解这些属性对于查询您的存储库并找出处于特定状态的页面集也很有用。

示例： *从cq：LiveSync中选择\**将返回所有Livecopy根页面。
<br> 在提出MSM支持票证时要提供的信息。<br> 
您最终可能需要AEM支持帮助。

在支持门户中提出支持工单时，请按照以下准则尽量确认问题 [知识库文章](https://experienceleague.adobe.com/docs/experience-cloud-kcs/kbarticles/KA-17494.html).

对于MSM问题，最好添加这些附加精确度：

- 附加日志之前：为日志程序启用DEBUG级别 <b>com.day.cq.wcm.msm </b>在/system/console/slinglog中，重复出现问题的MSM操作。

- 附加配置的输出 <b>http://`<` 主机`>` ：`<` 端口`>` /libs/wcm/msm/content/commands/rolloutconfigs.json 。</b>

- 传达附加到活动副本的转出配置

- 如果问题似乎源自UI（出现浏览器控制台错误或UI错误弹出窗口）：在执行有问题的MSM操作时，生成HAR文件以从用户的角度捕获完整流：请参阅以下内容 [链接](https://help.tenderapp.com/kb/troubleshooting-your-tender-site/generating-an-har-file) 有关HAR文件生成的详细信息

- <b>重现问题是支持人员快速分析和确定行为是否正常并相应地采取行动的最简单方法。</b>

为此，请尝试：

1) 在基于We-Retail页面的类似设置上重现问题

2) 如果不可能，请尝试构建一个包含您示例内容的内容包，以便支持工程师将其安装在与您的修补程序级别相同的空白AEM实例上，并重现问题。
