---
title: "Target VEC未识别页面的资产令牌"
description: 描述
solution: Target
product: Target
applies-to: "Target"
keywords: "KCS，资产令牌，页面，未标识， Target VEC，Adobe Target, at_property， window.targetPageParams函数"
resolution: Resolution
internal-notes: null
bug: true
article-created-by: Jim Menn
article-created-date: "9/27/2022 4:08:29 AM"
article-published-by: Jim Menn
article-published-date: "9/27/2022 6:32:36 AM"
version-number: 3
article-number: KA-15576
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=32246c07-1a3e-ed11-9db1-0022480866ad"
source-git-commit: 22f4625b33a00edc1424fe0e944b81212b4a0b1f
workflow-type: tm+mt
source-wordcount: '392'
ht-degree: 0%

---

# 页面的资产令牌未被Target VEC识别

## 描述


<b>环境</b>
Adobe Target

<b>问题</b>
Target VEC无法正确识别页面的资产令牌。

VEC显示警告消息 *在此页面上未找到资产令牌* 创建活动时。

<b>原因</b>
<b>如何 `at_property` 在“创作”和“交付”期间使用？</b>

<u>创作</u>:客户在VEC中加载其页面/SPA时，VEC会扫描页面以查找 `window.targetPageParams` 函数。
如果找到此函数，则会执行该函数并尝试提取 `at_property` 值，并根据此值确定此属性的工作区。
如果VEC找不到此函数或此函数缺失，则VEC将默认使用默认工作区。

<u>投放</u>:在交付过程中，Target边缘不考虑 `at_property` 值来自。 只要在请求中传递属性值，它就会正常运行。

<u>它在Launch中是如何工作的？</u>
概述了这两种操作模式，有必要解释Launch中发生的情况。
在Launch中，客户可以按照任何所需的方式将参数添加到Launch操作，因此通常 `at_property` 作为参数传递到 `Fire global mbox request`.
这非常适合交付，但在VEC中加载网站时，由于没有 `window.targetPageParams`,VEC无法获取正确的工作区。


## 分辨率


<b>解决方法</b>
要解决此问题并确保VEC按预期运行，一种方法是要求客户创建一个Launch自定义代码操作，以定义 `window.targetPageParams` 函数 `at_property`.

客户必须确保在加载Target库或触发全局mbox请求之前立即执行此操作。

一种替代方法是调整VEC，以便VEC与AdobeLaunch之间存在本机集成，但这需要正确的范围界定，且实施过程将需要更多时间。

<u>解决方法步骤</u>:

1. 创建Launch自定义代码操作，以定义 `window.targetPageParams` 函数 `at_property`.


```
window.targetPageParams = function() {return {"at_property" : "%atproperty%"}; }
```


2. 另外，请确保在加载Target库或触发全局mbox请求之前立即执行此操作。

上述步骤应确保VEC在创建活动时正确识别属性。

![](http://omniture.custhelp.com/ci/inlineImage/get/3018176/a5a902ecd7ac849bb5bf0fa7e22e14e7)
