---
title: "Experience Manager- Web层管道在TestCacheInvalidation期间执行失败"
description: 描述
solution: Experience Manager as a Cloud Service
product: Experience Manager as a Cloud Service
applies-to: "Experience Manager as a Cloud Service"
keywords: "KCS， TestCacheInvalidation， Web层， aem，云， vhost， x-vhost"
resolution: Resolution
internal-notes: "answer found in https://dmasupport.slack.com/archives/C013SBSHPKK/p1645102872540889?thread_ts=1645102277.855389&cid=C013SBSHPKK"
bug: false
article-created-by: Roxann McGlumphy
article-created-date: "1/13/2023 5:26:31 PM"
article-published-by: Roxann McGlumphy
article-published-date: "1/13/2023 5:37:03 PM"
version-number: 2
article-number: KA-19052
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=fc7dcd69-6793-ed11-aad1-6045bd006a22"
source-git-commit: 3e07519ce2c240bd39ffee9aca8c490f072f5ba2
workflow-type: tm+mt
source-wordcount: '186'
ht-degree: 2%

---

# Experience Manager — 在TestCacheInvalidation期间，Web层管道执行失败

## 描述 {#description}

问题<br>
网层管道执行失败，日志文件中出现以下错误

===运行TestCacheInvalidation main_test.go:237: 测试失败。 标头“X-Vhost”应存在，而不存在：“全包”，收到：“全包” — 失败：TestCacheInvalidation(0.00s)失败退出状态1
<br>环境<br>
Experience Manageras a Cloud Service


## 解决方法 {#resolution}

解决方法<br><br>
- 确认您的调度程序配置包含用于使调度程序缓存失效的vhost（正在对主机127.0.0.1完成调用），例如，在 [https://github.com/adobe/aem-project-archetype/blob/master/src/main/archetype/dispatcher.cloud/src/conf.d/available_vhosts/default.vhost#L24](https://github.com/adobe/aem-project-archetype/blob/master/src/main/archetype/dispatcher.cloud/src/conf.d/available_vhosts/default.vhost#L24)
- 如果您有X-Vhost标头，请确保它不为空，并且请求不会到达X-Vhost标头设置为“catch-all”的catch-al主机，如 [https://github.com/adobe/aem-project-archetype/blob/master/src/main/archetype/dispatcher.cloud/src/conf.d/dispatcher_vhost.conf#L136](https://github.com/adobe/aem-project-archetype/blob/master/src/main/archetype/dispatcher.cloud/src/conf.d/dispatcher_vhost.conf#L136)

