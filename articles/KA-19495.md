---
title: “使用提供的SSH密钥凭据进行SFTP源连接器失败连接”
description: 描述
solution: Experience Platform
product: Experience Platform
applies-to: "Experience Platform"
keywords: “KCS、AEP、源、SFTP、SSH、base64、openSSH、Adobe Experience Platform、故障排除、连接器、失败连接、SSH密钥凭据”
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Zita Rodricks
article-created-date: "5/30/2023 1:38:08 PM"
article-published-by: Zita Rodricks
article-published-date: "5/30/2023 1:40:05 PM"
version-number: 5
article-number: KA-19495
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=29f60831-effe-ed11-8f6e-6045bd0063aa"
source-git-commit: dc60831e5b6a3af73e9594125926af6d4631bacc
workflow-type: tm+mt
source-wordcount: '370'
ht-degree: 2%

---

# 使用提供的SSH密钥凭据进行SFTP源连接器连接失败

## 描述 {#description}


<b>环境</b>
Adobe Experience Platform

<b>问题</b>

您希望在AEP中设置SFTP源连接器。

SFTP源连接器无法使用SSH密钥与提供的身份验证凭据连接。 您可能使用PuttyGen生成密钥。


## 解决方法 {#resolution}


<b>解决方案</b>
首先，确保满足所有先决条件：

<b>1. 与您的SFTP提供商确认其支持的密钥类型</b>
a. SSH-1与SSH-2 b.生成的密钥大小（位）：默认值为2048

<b>2. 授权SFTP提供商上的AEP IP</b>
a.验证部署AEP实例的数据中心。
一、VA7：北美洲ii。 NLD2：欧洲三。 澳大利亚5：澳大利亚b。AEP IP可在 [SFTP连接器文档](https://experienceleague.adobe.com/docs/experience-platform/sources/connectors/cloud-storage/sftp.html).



<b>3.  AEP支持RSA或DSA类型的OpenSSH密钥。</b>

SFTP连接器支持RSA或DSA类型的OpenSSH密钥。 确保您的密钥文件内容开头为 `"-----BEGIN `[` RSA/DSA`]`  PRIVATE KEY-----"` 结束于 `"-----END `[` RSA/DSA`]`  PRIVATE KEY-----"`. 如果私钥文件是PPK格式文件，请使用PuTTY工具从PPK转换为OpenSSH格式。

有关如何生成密钥的说明，请参阅 [SFTP连接器：为SFTP设置Base64编码的OpenSSH私钥](https://experienceleague.adobe.com/docs/experience-platform/sources/connectors/cloud-storage/sftp.html#set-up-a-base64-encoded-openssh-private-key-for-sftp).



<b>4. AEP需要OpenSSH base64编码的私钥 </b>



如果您仍然遇到问题，PuttyGen生成的私钥的转换方式可能会出现问题。

请注意，AEP要求私钥为OpenSSL格式编码的base64。

生成密钥后，必须使用(PuttyGen)菜单(<b>转化</b> ” <b>导出OpenSSH密钥</b>)，这将生成OpenSSH格式的私钥，并且 <u>只有这样</u> 可以在base64中进行编码。

由于AEP要求私钥进行base64编码，因此您可以：

·使用 <b>编码为Base64格式</b> 工具位于 [https://www.base64encode.org/](https://www.base64encode.org/).

或

·通过发出以下命令使用OpenSSL：

*openSSL base64 -in yourPrivateKeyFile -out yourPrivateKeyFileBase64*










