---
title: 'Adobe Experience Manager:Dispatcher缓存文件意外更新'
description: 描述
solution: Experience Manager
product: Experience Manager
applies-to: Experience Manager
keywords: KCS
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Nobuhiro Hashimoto
article-created-date: 6/30/2022 5:05:25 AM
article-published-by: Nobuhiro Hashimoto
article-published-date: 6/30/2022 5:08:03 AM
version-number: 2
article-number: KA-19985
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=b083b13c-32f8-ec11-bb3d-000d3a5b0be0
exl-id: 57f937e5-0e45-4fba-b158-e8870ab1b868
source-git-commit: e8f4ca2dd578944d4fe399074fab461de88ad247
workflow-type: tm+mt
source-wordcount: '260'
ht-degree: 1%

---

# Adobe Experience Manager:调度程序缓存文件意外更新

## 描述


有时，您可能会发现Dispatcher缓存文件在意外的时间或频率下进行了更新。 本文就如何分析这种情况作了说明。

<b>环境</b>
AEMas a Cloud Service, AEM 6.5


## 分辨率


发布内容时，AEM会向Dispatcher发送缓存失效请求(GET/dispatcher/invalidate.cache)。 之后，当向Dispatcher请求内容时，它会更新其缓存文件。

根据此行为，通过收集有关缓存失效请求和内容请求的日志来查找模式。

失效请求的日志示例：
<br>Dispatcher - access_log


```
127.0.0.1 - - 07/Jun/2022:13:44:35 +0900 "GET /dispatcher/invalidate.cache HTTP/1.1" 200 13 "about:blank" "Jakarta Commons-HttpClient/3.1"
```

<br>Dispatcher - dispatcher.log


```
07/Jun/2022:13:44:35 +0900 "GET /dispatcher/invalidate.cache HTTP/1.1" 200 purge publish/- 0ms
```

<br>发布 — error.log


```
07.06.2022 13:44:35.750 *INFO* sling-threadpool-f158f7aa-d59d-4d34-9bfa-be84a03a917f-(apache-sling-job-thread-pool)-1-com_day_cq_replication_job_flush(com/day/cq/replication/job/flush) com.day.cq.replication.Agent.flush Sending GET request to http://localhost:80/dispatcher/invalidate.cache
...
07.06.2022 13:44:35.758 *INFO* sling-threadpool-f158f7aa-d59d-4d34-9bfa-be84a03a917f-(apache-sling-job-thread-pool)-1-com_day_cq_replication_job_flush(com/day/cq/replication/job/flush) com.day.cq.replication.Agent.flush Replication (ACTIVATE) of /content/we-retail/us/en/products successful.
```




<b>原因</b>

以下是Dispatcher缓存文件意外更新的典型情况。


<u>用例1 — 频繁更新意外内容的缓存</u>

缓存文件经常更新，但更新的内容不是缓存失效请求的目标。

在这种情况下，Dispatcher配置中的/statfileslevel值可能过低。 请注意，对于此值，在dispatcher.any中注释掉/statfileslevel表示“0”。

当您拥有/statfileslevel &quot;0&quot;并发布内容时，无论路径如何，所有缓存文件都将失效。 参考描述了详细信息。

https://experienceleague.adobe.com/docs/experience-manager-dispatcher/using/configuring/dispatcher-configuration.html#invalidating-files-by-folder-level


<u>用例2 — 来自不需要的客户端的缓存失效请求</u>

Dispatcher配置可能对缓存失效请求没有适当的限制。 在dispatcher.any中检查/allowedClients。


<u>用例3 — 无缓存失效请求</u>

调度程序配置可能使用基于时间的缓存失效。 在这种情况下， /enableTTL &quot;1&quot;应存在于dispatcher.any中。
