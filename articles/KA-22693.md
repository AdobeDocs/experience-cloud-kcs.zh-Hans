---
title: “为IMS配置选择Adobe Target作为云解决方案时出错”
description: 描述
solution: Experience Manager
product: Experience Manager
applies-to: "Experience Manager"
keywords: “KCS、Adobe Target、IMS配置、Experience Manager”
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Tanay Sharma .
article-created-date: "9/8/2023 4:20:06 PM"
article-published-by: Tanay Sharma .
article-published-date: "9/8/2023 4:23:56 PM"
version-number: 3
article-number: KA-22693
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=058ee690-634e-ee11-be6e-6045bd006295"
source-git-commit: ee22197ab4572acd4da1fd1cd585669845751a71
workflow-type: tm+mt
source-wordcount: '484'
ht-degree: 1%

---

# 为IMS配置选择Adobe Target作为云解决方案时出错

## 描述 {#description}


### 环境

AEM内部部署

### 问题/症状

创建Adobe Target IMS配置以将AEM与Adobe Target集成时出错。  但是，只要 *Adobe Target* 被选为IMS配置的云解决方案，出现错误“`Cannot retrieve certificates: The Provided userId does not identify an existing user"` 弹出窗口，并且无法创建配置。 只有Adobe Target解决方案会发生此问题。.lf-progress { width： 100%；height： 4px； border-radius： 3px； cursor： pointer } .lf-progress：focus { outline： none； border： none } .lf-progress：-moz-range-track { cursor： pointer； background： none； border： none } .lf-progress：：-webkit-slider-thumb { height： 13px； border： 0； border-radius： 50%； background： radius： radius： radius： radius： radius： radius： radius， radius： radius： radius： radius： radius， 215555555， 204， 26， 206， 16， 1)； cursor， 1)； cursor进度：-moz-range-thumb {高度： 13px；宽度： 13px；边框： 0；边框半径： 50%；背景： rgba(15， 204， 206， 1)；光标： pointer } .lf-progress：：-ms-track {宽度： 100%；高度： 3px；光标： pointer；背景： rgba(0， 0， 0， 0)；边框颜色： rgba(0， 0， 0， 0) } .lf-progress：：-ms -lower {背景： rgba(204， 204， 204， 1)；border-radius： 3px } .lf-progress：-ms-fill-upper {背景： rgba(204， 204， 1)；border-radius： 3px } .lf-progress：：-ms-thumb {边框： 0；高度： 15px；宽度： 15px；边框半径： 50%；背景： rgba(15， 204， 206， 1)；光标： pointer } lf-progress:focus:：-ms-fill-lower {背景： rgba(204， 204， 1) } .lf-progress:focus:：-ms-fill-upper { background： rgba(204， 204， 1) } .lf-player-container ：focus { outline： 0 } .lf-popover { position： relative } .lf-pover-content { display： inline-block； position： absolute；opacity： 1； visibility： visible； transform： translate(0， -10px)； box-shadow： 0 2px 5px rgba(0， 0， 0.26)；transition：所有0.3s cucubic-bezier(0.75， -0.02225， ， 0.2， 0.97) } .lf-popover-content.hidden {不透明度： 0；可见性：隐藏；转换： translate(0， 0) } .lf-player-btn-container {显示： flex； align-items： center } .lf-player-btn {光标：指针；宽度： 14px } .lf-player-btn.active { } .lf-popover-content {显示：inline-block；位置：绝对； background-color： rgba(2525， 1)； acity： 1；transform： translate(0， -10px)；box-shadow： 0 2px 5px rgba(0， 0， 0， 0.26)；transition：所有0.3s立方 — bezier(0.75， -0.02， 0.2， 0.97)；padding： 10px } .lf-popover-content.hidden {不透明度： 0；visibility； translate(0， 0) } .lf-arrow {位置： absolute； z-index： -1；content： &quot;&quot;； body： &#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;) — 宽度： 10px 10px 0 } .lf-left-align， .lf-left-align .lfarrow {左： 0；右： unset } .lf-right-align， .lf-right-align .lf-arrow {右： 0；左： unset } .lf-text-input {边框： 1px solid rgba(204， 204， 204， 1)；边框半径： 5px；填充： 3px；宽度： 60px；边距： 0 } .lf-color-picker {显示： flex； flex .lf — 颜色选取器{flex； flex — 方向： row；行两端对齐 — 内容：间距；高度： 90px } .lf-color-selectors { display： flex； flex-direction： column； justify-content：间距} .lf-color-component { display： flex； flex-direction： row； font-size： 12px； align-items： center； justify-content： center } .lf-color-component strong { width： 40px } .lf-color-component input`[` type=&quot;range&quot;`]`  { margin： 0 0 0 10px } .lf-color-component输入`[` type=&quot;number&quot;`]`  { width： 50px； margin： 0 0 0 10px } .lf-color-preview { font-size： 12px； display： flex； flex-direction： column； align-items： center； justify-content： space-between； padding-left： 5px } .lf-preview { height： 60px； width： 60px } .lf-pover-snapshot { width： 150px } .lf-pover-snapshot h5 { margage： 5px 0 100px x ； font { display： block； text-decoration： none } .lf-pover-snapshot a：before { content： &quot;⥼&quot;； margin-right： 5px } .lf-pover-snapshot .lf-note { display： block； margin-top： 10px； color： rgba(153， 153， 1) } .lf-player-controls>div { margin-right： 5px； margin-left： 5px } .lf-player-controls>div：first-child { margin-left： 0 } .lf-player-controls右： 0 } .go4109123758 { z-index： 9999 } .go4109123758>\* {指针事件：自动}








## 解决方法 {#resolution}


- 选择 <b>工具</b> `>`  <b>安全性</b> `>`  <b>IMS配置 </b>`>`  <b>创建</b>.


- 选择 <b>Target</b> 作为解决方案。


UI中将弹出错误 `"Cannot retrieve certificate. The provided userid does not identify an existing user."` 在日志中，唯一与此问题相关的错误是 `[` 1`]` .

`[` 1`]`  `/libs/cq/adobeims-configuration/content/configurations/createimsconfig/contextCertificates HTTP/1.1]  com.adobe.cq.adobeims.impl.servlets.GetCertificatesServlet Cannot retrieve certificates: The provided userId does not identify an existing user.}` `[` 1`]`  路径： `/home/users/system/target-imsconfig-service` 权限：允许权限：jcr：read；rep：write
<br>原因<br>
错误是由于 `target-imsconfig-service` 用户。 检查用户的权限时 `target-imsconfig-service` 和 `targetservice,` 有人注意到 `target-imsconfig-service` 未分配ACE。 添加ACE之后 `[` 1`]`  对于用户，可以成功创建Adobe Target的IMS配置。
